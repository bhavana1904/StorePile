{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ERRORS, SET_CURRENT_USER } from \"./Type\";\nimport setJWTToken from \"./setJWTToken\";\nimport jwt_decode from \"jwt-decode\";\nexport const createNewUser = (newUser, history) => async dispatch => {\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  const body = JSON.stringify({\n    username,\n    fullName,\n    password,\n    confirmPassword\n  });\n  console.log(body);\n\n  try {\n    await axios.post(\"/api/users/register\", body, {\n      headers: headers\n    });\n    history.push(\"/login\");\n    dispatch({\n      type: GET_ERRORS,\n      payload: {}\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  }\n};\nexport const login = LoginRequest => async dispatch => {\n  try {\n    const res = await axios.post(\"/api/users/login\", LoginRequest);\n    const {\n      token\n    } = res.data;\n    localStorage.setItem(\"jwtToken\", token);\n    setJWTToken(token);\n    const decoded = jwt_decode(token);\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: decoded\n    });\n  } catch (err) {\n    this.dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  }\n};","map":{"version":3,"names":["axios","GET_ERRORS","SET_CURRENT_USER","setJWTToken","jwt_decode","createNewUser","newUser","history","dispatch","headers","body","JSON","stringify","username","fullName","password","confirmPassword","console","log","post","push","type","payload","err","response","data","login","LoginRequest","res","token","localStorage","setItem","decoded"],"sources":["C:/Users/chunduri bhavana/Downloads/react-website-v1-master/react-website-v1-master/src/SecurityActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { GET_ERRORS,SET_CURRENT_USER } from \"./Type\";\r\nimport setJWTToken from \"./setJWTToken\";\r\nimport jwt_decode from \"jwt-decode\"\r\nexport const createNewUser = (newUser, history) => async dispatch => {\r\n  const headers = {\r\n    'Content-Type': 'application/json'\r\n  \r\n  }\r\n  const body=JSON.stringify({username,fullName,password,confirmPassword});\r\n    \r\n   console.log(body);\r\n\r\n    try {\r\n      await axios.post(\"/api/users/register\", body,{\r\n        headers: headers\r\n      });\r\n      history.push(\"/login\");\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: {}\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    }\r\n  };\r\n  export const login = LoginRequest => async dispatch => {\r\n    try {\r\n      \r\n      const res = await axios.post(\"/api/users/login\", LoginRequest);\r\n      const { token } = res.data;\r\n      localStorage.setItem(\"jwtToken\", token);\r\n      setJWTToken(token);\r\n      const decoded = jwt_decode(token);\r\n      dispatch({\r\n        type: SET_CURRENT_USER,\r\n        payload: decoded\r\n      });\r\n    } catch (err) {\r\n      this.dispatch({\r\n        type: GET_ERRORS,\r\n       payload: err.response.data\r\n      });\r\n    }\r\n  };"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAoBC,gBAApB,QAA4C,QAA5C;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,MAAMC,aAAa,GAAG,CAACC,OAAD,EAAUC,OAAV,KAAsB,MAAMC,QAAN,IAAkB;EACnE,MAAMC,OAAO,GAAG;IACd,gBAAgB;EADF,CAAhB;EAIA,MAAMC,IAAI,GAACC,IAAI,CAACC,SAAL,CAAe;IAACC,QAAD;IAAUC,QAAV;IAAmBC,QAAnB;IAA4BC;EAA5B,CAAf,CAAX;EAECC,OAAO,CAACC,GAAR,CAAYR,IAAZ;;EAEC,IAAI;IACF,MAAMV,KAAK,CAACmB,IAAN,CAAW,qBAAX,EAAkCT,IAAlC,EAAuC;MAC3CD,OAAO,EAAEA;IADkC,CAAvC,CAAN;IAGAF,OAAO,CAACa,IAAR,CAAa,QAAb;IACAZ,QAAQ,CAAC;MACPa,IAAI,EAAEpB,UADC;MAEPqB,OAAO,EAAE;IAFF,CAAD,CAAR;EAID,CATD,CASE,OAAOC,GAAP,EAAY;IACZf,QAAQ,CAAC;MACPa,IAAI,EAAEpB,UADC;MAEPqB,OAAO,EAAEC,GAAG,CAACC,QAAJ,CAAaC;IAFf,CAAD,CAAR;EAID;AACF,CAxBI;AAyBL,OAAO,MAAMC,KAAK,GAAGC,YAAY,IAAI,MAAMnB,QAAN,IAAkB;EACrD,IAAI;IAEF,MAAMoB,GAAG,GAAG,MAAM5B,KAAK,CAACmB,IAAN,CAAW,kBAAX,EAA+BQ,YAA/B,CAAlB;IACA,MAAM;MAAEE;IAAF,IAAYD,GAAG,CAACH,IAAtB;IACAK,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,KAAjC;IACA1B,WAAW,CAAC0B,KAAD,CAAX;IACA,MAAMG,OAAO,GAAG5B,UAAU,CAACyB,KAAD,CAA1B;IACArB,QAAQ,CAAC;MACPa,IAAI,EAAEnB,gBADC;MAEPoB,OAAO,EAAEU;IAFF,CAAD,CAAR;EAID,CAXD,CAWE,OAAOT,GAAP,EAAY;IACZ,KAAKf,QAAL,CAAc;MACZa,IAAI,EAAEpB,UADM;MAEbqB,OAAO,EAAEC,GAAG,CAACC,QAAJ,CAAaC;IAFT,CAAd;EAID;AACF,CAlBM"},"metadata":{},"sourceType":"module"}